<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Форма регистрации</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="form-container">
        <h1>Форма регистрации</h1>
        
        <?php
        if (isset($_COOKIE['errors'])) {
            $errors = unserialize($_COOKIE['errors']);
            foreach ($errors as $error) {
                echo "<p class='error'>$error</p>";
            }
        }
        ?>

        <form action="submit.php" method="POST" id="registrationForm">
            <label for="fullName">ФИО:</label>
            <input type="text" id="fullName" name="fullName" value="<?php echo isset($_COOKIE['fullName']) ? $_COOKIE['fullName'] : ''; ?>" class="<?php echo isset($errors['fullName']) ? 'error-field' : ''; ?>">
            
            <label for="phone">Телефон:</label>
            <input type="tel" id="phone" name="phone" value="<?php echo isset($_COOKIE['phone']) ? $_COOKIE['phone'] : ''; ?>" class="<?php echo isset($errors['phone']) ? 'error-field' : ''; ?>">
            
            <label for="email">E-mail:</label>
            <input type="email" id="email" name="email" value="<?php echo isset($_COOKIE['email']) ? $_COOKIE['email'] : ''; ?>" class="<?php echo isset($errors['email']) ? 'error-field' : ''; ?>">
            
            <label for="birthDate">Дата рождения:</label>
            <input type="date" id="birthDate" name="birthDate" value="<?php echo isset($_COOKIE['birthDate']) ? $_COOKIE['birthDate'] : ''; ?>" class="<?php echo isset($errors['birthDate']) ? 'error-field' : ''; ?>">
            
            <label>Пол:</label>
            <input type="radio" id="male" name="gender" value="Мужской" <?php echo (isset($_COOKIE['gender']) && $_COOKIE['gender'] == 'Мужской') ? 'checked' : ''; ?>> Мужской
            <input type="radio" id="female" name="gender" value="Женский" <?php echo (isset($_COOKIE['gender']) && $_COOKIE['gender'] == 'Женский') ? 'checked' : ''; ?>> Женский
            
            <label for="languages">Любимый язык программирования:</label>
            <select id="languages" name="languages[]" multiple class="<?php echo isset($errors['languages']) ? 'error-field' : ''; ?>">
                <option value="Pascal" <?php echo (isset($_COOKIE['languages']) && in_array('Pascal', $_COOKIE['languages'])) ? 'selected' : ''; ?>>Pascal</option>
                <option value="C" <?php echo (isset($_COOKIE['languages']) && in_array('C', $_COOKIE['languages'])) ? 'selected' : ''; ?>>C</option>
                <option value="C++" <?php echo (isset($_COOKIE['languages']) && in_array('C++', $_COOKIE['languages'])) ? 'selected' : ''; ?>>C++</option>
                <option value="JavaScript" <?php echo (isset($_COOKIE['languages']) && in_array('JavaScript', $_COOKIE['languages'])) ? 'selected' : ''; ?>>JavaScript</option>
                <option value="PHP" <?php echo (isset($_COOKIE['languages']) && in_array('PHP', $_COOKIE['languages'])) ? 'selected' : ''; ?>>PHP</option>
                <option value="Python" <?php echo (isset($_COOKIE['languages']) && in_array('Python', $_COOKIE['languages'])) ? 'selected' : ''; ?>>Python</option>
                <option value="Java" <?php echo (isset($_COOKIE['languages']) && in_array('Java', $_COOKIE['languages'])) ? 'selected' : ''; ?>>Java</option>
                <option value="Haskel" <?php echo (isset($_COOKIE['languages']) && in_array('Haskel', $_COOKIE['languages'])) ? 'selected' : ''; ?>>Haskel</option>
                <option value="Clojure" <?php echo (isset($_COOKIE['languages']) && in_array('Clojure', $_COOKIE['languages'])) ? 'selected' : ''; ?>>Clojure</option>
                <option value="Prolog" <?php echo (isset($_COOKIE['languages']) && in_array('Prolog', $_COOKIE['languages'])) ? 'selected' : ''; ?>>Prolog</option>
                <option value="Scala" <?php echo (isset($_COOKIE['languages']) && in_array('Scala', $_COOKIE['languages'])) ? 'selected' : ''; ?>>Scala</option>
                <option value="Go" <?php echo (isset($_COOKIE['languages']) && in_array('Go', $_COOKIE['languages'])) ? 'selected' : ''; ?>>Go</option>
            </select>
            <label for="bio">Биография:</label>
            <textarea id="bio" name="bio" rows="4" class="<?php echo isset($errors['bio']) ? 'error-field' : ''; ?>"><?php echo isset($_COOKIE['bio']) ? $_COOKIE['bio'] : ''; ?></textarea>
            <label for="contract">С контрактом ознакомлен(а):</label>
            <input type="checkbox" id="contract" name="contract" <?php echo isset($_COOKIE['contract']) && $_COOKIE['contract'] ? 'checked' : ''; ?>>

            <button type="submit">Сохранить</button>
        </form>
    </div>
</body>
</html>
